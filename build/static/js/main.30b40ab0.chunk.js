(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){},26:function(e,t,a){e.exports=a(41)},31:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(23),c=a.n(r),s=a(44),o=(a(31),a(6)),i=a(7),m=a(10),u=a(8),d=a(9),h=a(45),p=a(43),E=a(42),f=(a(12),a(13)),b=a(16),N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={persons:[]},a.url="https://obscure-retreat-90885.herokuapp.com/api/persons",a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(this.url).then(function(e){if(e.ok)return e.json();throw 404===e.status?Error("HTTP 404, Not found"):Error("HTTP ".concat(e.status,", ").concat(e.statusText))}).then(function(t){e.setState({persons:t})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return document.title="Person list",l.a.createElement("div",null,l.a.createElement("h4",null,"List of persons, from the deployed web service"),l.a.createElement("p",null,l.a.createElement(E.a,{className:"btn btn-default",to:"/person/create"},"Add a new person")),l.a.createElement("table",{className:"table table-striped"},l.a.createElement(g,null),l.a.createElement(v,{persons:this.state.persons})))}}]),t}(n.Component),g=function(){return l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Birth date"),l.a.createElement("th",null,"Web site"),l.a.createElement("th",null,"Credit score"),l.a.createElement("th",null,"Risk rating")))},v=function(e){var t=e.persons.map(function(e,t){return l.a.createElement(k,{person:e,key:t})});return l.a.createElement("tbody",null,t)},k=function(e){var t=e.person;return l.a.createElement("tr",null,l.a.createElement("td",null,t.firstName+" "+t.lastName),l.a.createElement("td",null,f(t.birthDate).format("gggg-MM-DD")),l.a.createElement("td",null,l.a.createElement("a",{href:t.url},"Web site")),l.a.createElement("td",null,t.creditScore,t.creditScore>600&&l.a.createElement(b.a,{icon:"check-circle",color:"green"})),l.a.createElement("td",null,t.rating,t.rating<10&&l.a.createElement(b.a,{icon:"exclamation-circle",color:"red"})),l.a.createElement("td",null,l.a.createElement(E.a,{className:"btn btn-default",to:"/person/detail/".concat(t._id)},"Details"),"\xa0\xa0",l.a.createElement(E.a,{className:"btn btn-warning",to:"/person/edit/".concat(t._id)},"Edit"),"\xa0\xa0",l.a.createElement(E.a,{className:"btn btn-danger",to:"/person/delete/".concat(t._id)},"Delete")))},S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={person:{},httpStatusCode:0,httpStatusOk:!1},a.url="https://obscure-retreat-90885.herokuapp.com/api/persons/".concat(a.props.id),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(this.url).then(function(t){if(e.setState({httpStatusCode:t.status,httpStatusOk:t.ok}),t.ok)return t.json();throw 404===t.status?Error("HTTP 404, Not found"):Error("HTTP ".concat(t.status,", ").concat(t.statusText))}).then(function(t){e.setState({person:t})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){document.title="Person ".concat(this.props.id," detail");var e=this.state.person;return l.a.createElement("div",null,l.a.createElement("h4",null,"Detail about person ",e.firstName," ",e.lastName," from the deployed web service"),this.state.httpStatusOk?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("dl",{className:"dl-horizontal"},l.a.createElement("dt",null,"Name"),l.a.createElement("dd",null,e.firstName," ",e.lastName),l.a.createElement("dt",null,"Birth date"),l.a.createElement("dd",null,f(e.birthDate).format("DD-MM-gggg")),l.a.createElement("dt",null,"Web site"),l.a.createElement("dd",null,l.a.createElement("a",{href:e.url},"Web site")),l.a.createElement("dt",null,"Email address"),l.a.createElement("dd",null,e.email),l.a.createElement("dt",null,"Credit score"),l.a.createElement("dd",null,e.creditScore," ",e.creditScore>600&&"- good"),l.a.createElement("dt",null,"Risk rating"),l.a.createElement("dd",null,e.rating)))):l.a.createElement("p",null,"Requested person was not found"),l.a.createElement("hr",null),l.a.createElement("p",null,l.a.createElement(E.a,{className:"btn btn-warning",to:"/persons/edit/".concat(e.id)},"Edit"),"\xa0\xa0",l.a.createElement(E.a,{className:"btn btn-default",to:"/persons"},"Show list of persons")))}}]),t}(n.Component),C=a(17),O=a(3),j=a(46),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={person:{},firstName:"",lastName:"",birthDate:"",email:"",url:"",creditScore:"",rating:"",httpStatusCode:0,httpStatusOk:!1},a.url="https://obscure-retreat-90885.herokuapp.com/api/persons/".concat(a.props.id),a.handleChange=a.handleChange.bind(Object(O.a)(Object(O.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(O.a)(Object(O.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(C.a)({},e.target.name,e.target.value))}},{key:"componentDidMount",value:function(){var e=this;fetch(this.url).then(function(t){if(e.setState({httpStatusCode:t.status,httpStatusOk:t.ok}),t.ok)return t.json();throw 404===t.status?Error("HTTP 404, Not found"):Error("HTTP ".concat(t.status,", ").concat(t.statusText))}).then(function(t){e.setState({person:t})}).catch(function(e){console.log(e)})}},{key:"handleSubmit",value:function(e){var t=this,a={_id:this.state.person._id,firstName:this.state.firstName,lastName:this.state.lastName,birthDate:this.state.birthDate,email:this.state.email,url:this.state.url,creditScore:this.state.creditScore,rating:this.state.rating};fetch(this.url,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){if(e.ok)return e.json();throw e.status>=400&&e.status,Error("HTTP ".concat(e.status,", ").concat(e.statusText))}).then(function(e){console.log(e),t.props.history.push("/person/detail/".concat(t.props.id))}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;document.title="Person ".concat(this.props.id," edit");var t=0===this.state.firstName.length||0===this.state.lastName.length||0===this.state.birthDate.length||0===this.state.creditScore.length||0===this.state.email.length||0===this.state.rating.length||0===this.state.url.length,a=this.state.person;return this.input&&0===this.state.firstName.length&&0===this.state.lastName.length&&this.input.focus(),l.a.createElement("div",null,l.a.createElement("h4",null,"Edit person ",a.firstName," ",a.lastName," from the deployed web service"),this.state.httpStatusOk?l.a.createElement("div",{className:"form-horizontal"},l.a.createElement("p",null,"Edit person data, and click/tap the Save button"),l.a.createElement("hr",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"firstName",className:"control-label col-md-2"},"First Name"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{name:"firstName",placeholder:this.state.person.firstName,className:"form-control",ref:function(t){e.input=t},onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"lastName",className:"control-label col-md-2"},"Last Name"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{name:"lastName",placeholder:this.state.person.lastName,className:"form-control",onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"birthDate",className:"control-label col-md-2"},"Birth date"),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("input",{name:"birthDate",placeholder:this.state.person.birthDate,className:"form-control",type:"date",onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email",className:"control-label col-md-2"},"Email address"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{type:"email",placeholder:this.state.person.email,name:"email",className:"form-control",onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"url",className:"control-label col-md-2"},"Web site"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{type:"url",placeholder:this.state.person.url,name:"url",className:"form-control",onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"creditScore",className:"control-label col-md-2"},"Credit score"),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("input",{type:"number",placeholder:this.state.person.creditScore,min:"200",max:"800",name:"creditScore",className:"form-control",onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"rating",className:"control-label col-md-2"},"Risk rating"),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("input",{type:"number",min:"5",max:"20",placeholder:this.state.person.rating,name:"rating",className:"form-control",onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col-md-offset-2 col-md-6"},l.a.createElement("button",{disabled:t,onClick:this.handleSubmit,className:"btn btn-primary"},"Save"),"\xa0\xa0",l.a.createElement(E.a,{className:"btn btn-default",to:"/persons"},"Cancel")))):l.a.createElement("div",null,l.a.createElement("p",null,"Requested person with identifier ",this.props.id," was not found"),l.a.createElement("hr",null),l.a.createElement("p",null,l.a.createElement(E.a,{className:"btn btn-default",to:"/persons"},"Show list of persons"))))}}]),t}(n.Component),w=Object(j.a)(y),T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={person:{},httpStatusCode:0,httpStatusOk:!1},a.url="https://obscure-retreat-90885.herokuapp.com/api/persons/".concat(a.props.id),a.handleSubmit=a.handleSubmit.bind(Object(O.a)(Object(O.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(this.url).then(function(t){if(e.setState({httpStatusCode:t.status,httpStatusOk:t.ok}),t.ok)return t.json();throw 404===t.status?Error("HTTP 404, Not found"):Error("HTTP ".concat(t.status,", ").concat(t.statusText))}).then(function(t){e.setState({person:t})}).catch(function(e){console.log(e)})}},{key:"handleSubmit",value:function(e){var t=this;fetch(this.url,{method:"DELETE"}).then(function(e){if(e.ok)return e.status;throw e.status>=400&&e.status,Error("HTTP ".concat(e.status,", ").concat(e.statusText))}).then(function(e){console.log(e),t.props.history.push("/persons")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){document.title="Delete person ".concat(this.props.id);var e=this.state.person;return l.a.createElement("div",null,l.a.createElement("h4",null,"Delete person ",e.firstName," ",e.lastName," from the deployed web service"),this.state.httpStatusOk?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("dl",{className:"dl-horizontal"},l.a.createElement("dt",null,"Name"),l.a.createElement("dd",null,e.firstName," ",e.lastName),l.a.createElement("dt",null,"Birth date"),l.a.createElement("dd",null,f(e.birthDate).format("DD-MM-gggg")),l.a.createElement("dt",null,"Web site"),l.a.createElement("dd",null,l.a.createElement("a",{href:e.url},"Web site")),l.a.createElement("dt",null,"Email address"),l.a.createElement("dd",null,e.email),l.a.createElement("dt",null,"Credit score"),l.a.createElement("dd",null,e.creditScore," ",e.creditScore>600&&"- good"),l.a.createElement("dt",null,"Risk rating"),l.a.createElement("dd",null,e.rating)))):l.a.createElement("p",null,"Requested person was not found"),l.a.createElement("hr",null),l.a.createElement("p",null,"Confirm that this person should be deleted, or cancel to return to the list of persons"),l.a.createElement("p",null,l.a.createElement("button",{onClick:this.handleSubmit,className:"btn btn-danger"},"Confirm delete"),"\xa0\xa0",l.a.createElement(E.a,{className:"btn btn-default",to:"/persons"},"Cancel")))}}]),t}(n.Component),D=Object(j.a)(T),P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={firstName:"",lastName:"",birthDate:"",email:"",url:"",creditScore:"",rating:""},a.url="https://obscure-retreat-90885.herokuapp.com/api/persons",a.handleChange=a.handleChange.bind(Object(O.a)(Object(O.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(O.a)(Object(O.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(C.a)({},e.target.name,e.target.value))}},{key:"componentDidMount",value:function(){this.input.focus()}},{key:"handleSubmit",value:function(e){var t=this,a={firstName:this.state.firstName,lastName:this.state.lastName,birthDate:this.state.birthDate,email:this.state.email,url:this.state.url,creditScore:this.state.creditScore,rating:this.state.rating};fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){if(e.ok)return e.json();throw e.status>=400&&e.status,Error("HTTP ".concat(e.status,", ").concat(e.statusText))}).then(function(e){console.log(e),t.props.history.push("/person/detail/".concat(e._id))}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;document.title="Add person";var t=0===this.state.firstName.length||0===this.state.lastName.length||0===this.state.birthDate.length||0===this.state.creditScore.length||0===this.state.email.length||0===this.state.rating.length||0===this.state.url.length;return l.a.createElement("div",null,l.a.createElement("h4",null,"Add a new person to the deployed web service"),l.a.createElement("div",{className:"form-horizontal"},l.a.createElement("p",null,"Enter new person data, and click/tap the Add Person button"),l.a.createElement("hr",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"firstName",className:"control-label col-md-2"},"First Name"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{name:"firstName",className:"form-control",ref:function(t){e.input=t},onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"lastName",className:"control-label col-md-2"},"Last Name"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{name:"lastName",className:"form-control",onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"birthDate",className:"control-label col-md-2"},"Birth date"),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("input",{name:"birthDate",className:"form-control",type:"date",onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email",className:"control-label col-md-2"},"Email address"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{type:"email",placeholder:"A valid email address",name:"email",className:"form-control",onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"url",className:"control-label col-md-2"},"Web site"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{type:"url",placeholder:"A valid URL",name:"url",className:"form-control",onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"creditScore",className:"control-label col-md-2"},"Credit score"),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("input",{type:"number",placeholder:"200 to 800",min:"200",max:"800",name:"creditScore",className:"form-control",onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"rating",className:"control-label col-md-2"},"Risk rating"),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("input",{type:"number",min:"5",max:"20",placeholder:"5.0 to 20.0",name:"rating",className:"form-control",onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col-md-offset-2 col-md-6"},l.a.createElement("button",{disabled:t,onClick:this.handleSubmit,className:"btn btn-primary"},"Add Person"),"\xa0\xa0",l.a.createElement(E.a,{className:"btn btn-default",to:"/persons"},"Cancel")))))}}]),t}(n.Component),x=Object(j.a)(P),F=a(15),A=a(21);F.b.add(A.b,A.a);var H=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(M,null),l.a.createElement(R,{className:"navbar navbar-default"}),l.a.createElement("hr",null),l.a.createElement(h.a,null,l.a.createElement(p.a,{exact:!0,path:"/",render:function(){return l.a.createElement(W,null)}}),l.a.createElement(p.a,{exact:!0,path:"/Persons",render:function(){return l.a.createElement(N,null)}}),l.a.createElement(p.a,{exact:!0,path:"/Person/create",render:function(){return l.a.createElement(x,null)}}),l.a.createElement(p.a,{exact:!0,path:"/Person/detail/:id",render:function(e){return l.a.createElement(S,{id:e.match.params.id})}}),l.a.createElement(p.a,{exact:!0,path:"/Person/edit/:id",render:function(e){return l.a.createElement(w,{id:e.match.params.id})}}),l.a.createElement(p.a,{exact:!0,path:"/Person/delete/:id",render:function(e){return l.a.createElement(D,{id:e.match.params.id})}}),l.a.createElement(p.a,{render:function(){return l.a.createElement(B,null)}})),l.a.createElement("p",null,"\xa0"),l.a.createElement("hr",null),l.a.createElement("footer",null,l.a.createElement("p",null,"\xa9 2019, Arshdeep Singh")))}}]),t}(n.Component),M=function(){return l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"row"},l.a.createElement("h2",null,"Assignment 1"),l.a.createElement("p",null,"Arshdeep singh | #133462176")))},R=function(){return l.a.createElement("div",{className:"container-fluid navbar-outline"},l.a.createElement("div",{className:"navbar-header"},l.a.createElement(E.a,{to:"/",className:"navbar-brand"},"Home page")),l.a.createElement("div",null,l.a.createElement("ul",{className:"nav navbar-nav"},l.a.createElement("li",null,l.a.createElement(E.a,{to:"/persons"},"List of persons")),l.a.createElement("li",null,l.a.createElement(E.a,{to:"/person/create"},"Add a person")))))},W=function(){return l.a.createElement("div",null,l.a.createElement("p",null,"A React app with the purpose of demonstrating the topics in the first five weeks of the course."),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"https://fast-headland-59503.herokuapp.com/",target:"_blank"},"Heroku-hosted (React) app")),l.a.createElement("li",null,l.a.createElement("a",{href:"https://obscure-retreat-90885.herokuapp.com/",target:"_blank"},"Heroku-hosted MongoDB + Express.js + Node.js (MEN) web service"))),l.a.createElement("p",null,"\xa0"))},B=function(){return l.a.createElement("div",null,l.a.createElement("p",null,"The requested resource was not found."),l.a.createElement("p",null,"\xa0"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(s.a,null,l.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,2,1]]]);
//# sourceMappingURL=main.30b40ab0.chunk.js.map